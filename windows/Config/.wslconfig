[wsl2]
memory=8GB   # Limits VM memory in WSL 2 up to 8GB
processors=4 # Makes the WSL 2 VM use four virtual processors
virtio9p=false

# There is an issue with WSL 2 version 1.2.5 and up with systemd user services.
#
# See https://github.com/microsoft/WSL/issues/10050#issuecomment-1552415151
# for a description of this fix.
#
# See https://github.com/nix-community/NixOS-WSL/issues/527 for the nixos-wsl
# issue on this matter.
#
# The missing "systemd --user" issue is here:
# https://github.com/nix-community/NixOS-WSL/issues/375
kernelCommandLine = cgroup_no_v1=all
